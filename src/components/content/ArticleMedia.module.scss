@use "../../styles/abstracts/variables" as *;
@use "../../styles/abstracts/mixins" as *;

.media {
  &-container {
    display: flex;
    justify-content: center;
    margin: 10px;
    width: calc(100% - 20px);

    & video,
    & iframe,
    & img {
      border: none;
      border-radius: $roundness;
      width: 100%;
      height: 100%;
    }

    & video {
      max-height: 55dvh;
    }

    & iframe {
      aspect-ratio: 16 / 9;
      height: auto;
      max-height: 55dvh;
    }

    & img {
      max-height: 60vh;
    }
  }

  &-wrapper {
    max-width: 100%;
  }

  &-content {
    display: block;
    width: 100%;
    height: auto;
    object-fit: contain;

    &[src*=".mp4"],
    &[src*=".webm"] {
      max-height: 55dvh;
    }

    &--image {
      max-height: 60vh;
    }
  }

  &--youtube {
    width: 100%;
  }

  &-placeholder {
    background-color: var(--color-surface-primary-background);
    width: 100%;
  }

  &-caption {
    margin-top: 8px;
    width: 100%;
    text-align: center;
    color: var(--color-text-tertiary);
    font-size: 0.9em;
  }

  &-fullscreen {
    &-portal {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      background-color: var(--color-background-overlay);
      width: 100vw;
      height: 100vh;

      &--closing {
        transition: opacity 0.25s ease-out;
        opacity: 0;
      }
    }

    &-content {
      width: auto;
      max-width: 90vw;
      max-height: 90vh;

      & video,
      & iframe,
      & img {
        width: auto;
        max-height: 90vh;
      }
    }
  }
}
