import{c as m,j as s,m as c,r as u,ai as h}from"./index-Bx-FALE1.js";import{s as y}from"./Header-DMgimdhC.js";const S=m(s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}));let g=!1,p=!1;y.config({top:60,duration:3,maxCount:2});const f=t=>t.closest(".search-content")!==null||t.closest(".search-tags")!==null||t.closest(".faq-tags .tag")!==null||t.tagName==="MARK"&&!t.classList.length,x=t=>t.replace(/<br\s*\/?>(\n)?/gi,"\n"),b=t=>{const a=document.createElement("textarea");a.value=t,Object.assign(a.style,{position:"fixed",top:"0",left:"0",width:"1px",height:"1px",padding:"0",border:"none",outline:"none",boxShadow:"none",background:"transparent"}),document.body.appendChild(a),a.focus(),a.select();let e=!1;try{e=document.execCommand("copy")}catch(n){console.error("Fallback copy failed:",n)}return document.body.removeChild(a),e},C=async t=>{try{return await navigator.clipboard.writeText(t),!0}catch(a){return b(t)?!0:(console.error("Failed to copy:",a),!1)}},T=()=>{const t=async e=>{if(!(e!=null&&e.target))return;const n=e.target;if(f(n)||p)return;p=!0;const i=x(n.textContent||"");try{await C(i)?y.success("Текст скопирован в буфер обмена"):y.error("Не удалось скопировать текст")}finally{p=!1}};return{copyToClipboard:t,enableAutoCopy:()=>{g||(document.addEventListener("click",e=>{e.target instanceof HTMLElement&&(e.target.tagName==="MARK"||e.target.tagName==="CODE")&&t(e)}),g=!0)}}},w=({text:t})=>{const a="@aechat",e=t.length*.05+.4,n={hidden:{opacity:1},visible:{transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:125,scale:0},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:10,stiffness:100}}},o={hidden:{width:0,opacity:0},visible:{width:"auto",opacity:1,transition:{delay:e,duration:1.25,ease:[.5,0,0,1],delayChildren:e+.2,staggerChildren:.05}}},l={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{type:"spring",damping:15,stiffness:200}}};return s.jsxs("div",{className:"bouncy-text-container",children:[s.jsx(c.div,{animate:"visible","aria-label":t,className:"bouncy-text-logo",initial:"hidden",variants:n,children:t.split("").map((r,d)=>s.jsx(c.span,{className:"bouncy-text-letter",variants:i,children:r},"".concat(r,"-").concat(d)))}),s.jsx(c.div,{animate:"visible","aria-label":a,className:"bouncy-text-tagline",initial:"hidden",variants:o,children:a.split("").map((r,d)=>s.jsx(c.span,{className:"bouncy-text-letter",variants:l,children:r},"".concat(r,"-").concat(d)))})]})},E=({text:t,isLoaded:a=!0})=>{const[e,n]=u.useState(!1);return u.useEffect(()=>{const i=localStorage.getItem("introLastShown"),o=new Date().getTime(),l=1200*1e3;(!i||o-parseInt(i,10)>l)&&(localStorage.setItem("introLastShown",o.toString()),n(!0))},[]),u.useEffect(()=>{if(e&&a){const i=t.length*.05+.4+1.25,o=setTimeout(()=>n(!1),i*1e3+250);return()=>clearTimeout(o)}},[e,a,t]),s.jsx(h,{children:e&&s.jsx(c.div,{className:"page-intro-overlay",exit:{opacity:0},initial:{opacity:1},transition:{duration:.5,ease:[.75,0,0,1]},children:a&&s.jsx(w,{text:t})})})};export{E as P,S,C as c,T as u};
